<?php include('header.php'); ?>
<style>
body{background:linear-gradient(135deg,#1a0b2e 0%,#2d1b4e 100%);min-height:100vh}.game-container{max-width:900px;margin:2rem auto;padding:2rem}.game-card{background:#fff;border-radius:20px;padding:2rem;box-shadow:0 10px 40px rgba(0,0,0,.3)}.balance-display{background:linear-gradient(145deg,#7B2CBF,#9D4EDD);color:#fff;padding:1.5rem;border-radius:15px;text-align:center;margin-bottom:2rem;border:3px solid #FFD700}.mines-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:1rem;margin:2rem 0;max-width:500px;margin-left:auto;margin-right:auto}.mine-tile{aspect-ratio:1;background:linear-gradient(145deg,#f8f9fa,#e9ecef);border:3px solid #7B2CBF;border-radius:15px;display:flex;align-items:center;justify-content:center;font-size:2.5rem;cursor:pointer;transition:all .3s ease}.mine-tile:hover:not(.revealed):not(.disabled){transform:scale(1.05);background:linear-gradient(145deg,#fff,#f8f9fa);box-shadow:0 5px 15px rgba(123,44,191,.3)}.mine-tile.gem{background:linear-gradient(145deg,#28a745,#20c997);border-color:#FFD700;color:#fff;animation:gemReveal .5s ease}.mine-tile.mine{background:linear-gradient(145deg,#dc3545,#c82333);border-color:#000;color:#fff;animation:mineExplode .5s ease}@keyframes gemReveal{0%{transform:scale(0) rotate(0)}50%{transform:scale(1.2) rotate(180deg)}100%{transform:scale(1) rotate(360deg)}}@keyframes mineExplode{0%{transform:scale(1)}50%{transform:scale(1.3);background:#ff0000}100%{transform:scale(1)}}.bet-controls{display:flex;gap:.5rem;margin-bottom:2rem;flex-wrap:wrap;justify-content:center}.bet-btn{padding:.75rem 1.5rem;border:2px solid #7B2CBF;background:#fff;color:#7B2CBF;border-radius:10px;cursor:pointer;font-weight:600;transition:all .3s ease}.bet-btn:hover{background:#7B2CBF;color:#fff}.bet-btn.active{background:linear-gradient(145deg,#7B2CBF,#9D4EDD);color:#fff;border-color:#FFD700}.control-btn{padding:1rem 2rem;background:linear-gradient(145deg,#7B2CBF,#9D4EDD);color:#fff;border:3px solid #FFD700;border-radius:15px;font-size:1.2rem;font-weight:700;cursor:pointer;transition:all .3s ease;margin:.5rem}.control-btn:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 8px 20px rgba(123,44,191,.5)}.control-btn:disabled{opacity:.5;cursor:not-allowed}.multiplier-display{background:linear-gradient(145deg,#FFD700,#FFA500);color:#1a0b2e;padding:1rem;border-radius:10px;text-align:center;margin-bottom:1rem;font-size:1.5rem;font-weight:700;border:3px solid #7B2CBF}.game-info{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;margin-top:2rem}.info-card{background:linear-gradient(145deg,#f8f9fa,#e9ecef);padding:1rem;border-radius:10px;text-align:center;border:2px solid #7B2CBF}.info-value{font-size:1.5rem;font-weight:700;color:#7B2CBF}.info-label{font-size:.9rem;color:#666;margin-top:.5rem}.result-notification{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%) scale(0);background:#fff;padding:3rem;border-radius:20px;box-shadow:0 20px 60px rgba(0,0,0,.5);z-index:1000;text-align:center;min-width:350px;transition:transform .3s ease}.result-notification.show{transform:translate(-50%,-50%) scale(1)}.result-notification.win{border:5px solid #28a745}.result-notification.lose{border:5px solid #dc3545}.overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.7);z-index:999;display:none}.overlay.show{display:block}
</style>
<div class="game-container"><div class="game-card"><h1 class="text-center mb-4" style="color:#7B2CBF"><i class="bi bi-grid-3x3-gap"></i> Mines Game</h1><div class="balance-display"><h3 class="mb-0"><i class="bi bi-coin"></i> Balance: <span id="balance">10000</span> Coins</h3></div><div class="text-center mb-3"><h5 style="color:#7B2CBF">Select Bet Amount:</h5></div><div class="bet-controls"><button class="bet-btn active" onclick="selectBet(10)">10</button><button class="bet-btn" onclick="selectBet(50)">50</button><button class="bet-btn" onclick="selectBet(100)">100</button><button class="bet-btn" onclick="selectBet(500)">500</button><button class="bet-btn" onclick="selectBet(1000)">1000</button></div><div class="multiplier-display">Current Multiplier: <span id="multiplier">1.00</span>x</div><div class="text-center"><button class="control-btn" id="startBtn" onclick="startGame()"><i class="bi bi-play-fill"></i> Start Game</button><button class="control-btn" id="cashoutBtn" onclick="cashOut()" disabled style="background:linear-gradient(145deg,#28a745,#20c997)"><i class="bi bi-cash-coin"></i> Cash Out</button></div><div class="mines-grid" id="minesGrid"></div><div class="game-info"><div class="info-card"><div class="info-value" id="gemsFound">0</div><div class="info-label">ðŸ’Ž Gems Found</div></div><div class="info-card"><div class="info-value">3</div><div class="info-label">ðŸ’£ Mines</div></div><div class="info-card"><div class="info-value" id="potentialWin">0</div><div class="info-label">Potential Win</div></div></div></div></div><div class="overlay" id="overlay"></div><div class="result-notification" id="resultNotification"><div style="font-size:5rem;margin-bottom:1rem" id="resultIcon"></div><h2 id="resultTitle"></h2><p id="resultMessage"></p><button class="btn btn-lg mt-3" style="background:linear-gradient(145deg,#7B2CBF,#9D4EDD);color:#fff;border:2px solid #FFD700" onclick="closeNotification()">Play Again</button></div>
<script>
let balance=10000,currentBet=10,gameActive=!1,gemsRevealed=0,minePositions=[];const TOTAL_TILES=25,TOTAL_MINES=3,audioContext=new(window.AudioContext||window.webkitAudioContext);function playSound(e){const t=audioContext.createOscillator(),o=audioContext.createGain();t.connect(o),o.connect(audioContext.destination),"click"===e?(t.frequency.value=600,o.gain.setValueAtTime(.2,audioContext.currentTime),o.gain.exponentialRampToValueAtTime(.01,audioContext.currentTime+.05),t.start(audioContext.currentTime),t.stop(audioContext.currentTime+.05)):"gem"===e?(t.frequency.value=800,o.gain.setValueAtTime(.3,audioContext.currentTime),o.gain.exponentialRampToValueAtTime(.01,audioContext.currentTime+.3),t.start(audioContext.currentTime),t.stop(audioContext.currentTime+.3)):"mine"===e?(t.frequency.value=150,o.gain.setValueAtTime(.4,audioContext.currentTime),o.gain.exponentialRampToValueAtTime(.01,audioContext.currentTime+.5),t.start(audioContext.currentTime),t.stop(audioContext.currentTime+.5)):"win"===e&&(t.frequency.value=1e3,o.gain.setValueAtTime(.3,audioContext.currentTime),o.gain.exponentialRampToValueAtTime(.01,audioContext.currentTime+.6),t.start(audioContext.currentTime),t.stop(audioContext.currentTime+.6))}function selectBet(e){gameActive||(playSound("click"),currentBet=e,document.querySelectorAll(".bet-btn").forEach(e=>{e.classList.remove("active")}),event.target.classList.add("active"))}function initializeGrid(){const e=document.getElementById("minesGrid");e.innerHTML="";for(let t=0;t<25;t++){const o=document.createElement("div");o.className="mine-tile",o.dataset.index=t,o.onclick=()=>revealTile(t),e.appendChild(o)}}function startGame(){if(currentBet>balance)return void alert("Insufficient balance!");playSound("click"),balance-=currentBet,updateBalance(),gameActive=!0,gemsRevealed=0,minePositions=[];for(;minePositions.length<3;){const e=Math.floor(25*Math.random());minePositions.includes(e)||minePositions.push(e)}initializeGrid(),document.getElementById("startBtn").disabled=!0,document.getElementById("cashoutBtn").disabled=!1,document.querySelectorAll(".bet-btn").forEach(e=>e.disabled=!0),updateGameInfo()}function revealTile(e){if(!gameActive)return;const t=document.querySelector(`[data-index="${e}"]`);t.classList.contains("revealed")||(t.classList.add("revealed"),minePositions.includes(e)?(t.classList.add("mine"),t.textContent="ðŸ’£",playSound("mine"),gameOver(!1)):(t.classList.add("gem"),t.textContent="ðŸ’Ž",playSound("gem"),gemsRevealed++,updateGameInfo(),22===gemsRevealed&&cashOut()))}function calculateMultiplier(){return 0===gemsRevealed?1:(1+.3*gemsRevealed).toFixed(2)}function updateGameInfo(){document.getElementById("gemsFound").textContent=gemsRevealed;const e=calculateMultiplier();document.getElementById("multiplier").textContent=e;const t=Math.floor(currentBet*e);document.getElementById("potentialWin").textContent=t}function cashOut(){if(!gameActive||0===gemsRevealed)return;playSound("win");const e=calculateMultiplier(),t=Math.floor(currentBet*e);balance+=t,updateBalance(),gameOver(!0,t)}function gameOver(e,t=0){gameActive=!1,document.querySelectorAll(".mine-tile").forEach((e,t)=>{e.classList.contains("revealed")||(e.classList.add("revealed","disabled"),minePositions.includes(t)?(e.classList.add("mine"),e.textContent="ðŸ’£"):(e.classList.add("gem"),e.textContent="ðŸ’Ž"))}),setTimeout(()=>{showNotification(e,t)},1e3),document.getElementById("startBtn").disabled=!1,document.getElementById("cashoutBtn").disabled=!0,document.querySelectorAll(".bet-btn").forEach(e=>e.disabled=!1)}function showNotification(e,t){const o=document.getElementById("resultNotification"),a=document.getElementById("overlay"),n=document.getElementById("resultIcon"),i=document.getElementById("resultTitle"),c=document.getElementById("resultMessage");e?(o.className="result-notification win show",n.textContent="ðŸŽ‰",i.textContent="CASHED OUT!",i.style.color="#28a745",c.innerHTML=`<strong>Gems Found: ${gemsRevealed}</strong><br>You won <strong>${t} coins</strong>!`):(o.className="result-notification lose show",n.textContent="ðŸ’¥",i.textContent="BOOM!",i.style.color="#dc3545",c.innerHTML=`<strong>Hit a mine!</strong><br>You lost <strong>${currentBet} coins</strong>`),a.classList.add("show")}function closeNotification(){playSound("click"),document.getElementById("resultNotification").classList.remove("show"),document.getElementById("overlay").classList.remove("show"),gemsRevealed=0,updateGameInfo(),initializeGrid()}function updateBalance(){document.getElementById("balance").textContent=balance,balance<10&&(alert("Balance too low! Resetting to 10,000 coins."),balance=1e4,updateBalance())}initializeGrid(),updateGameInfo(),document.getElementById("overlay").addEventListener("click",closeNotification);
</script>
<?php include('footer.php'); ?>
